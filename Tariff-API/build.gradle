/*
 * This file was generated by the Gradle 'init' task.
 */
buildscript {
    ext {
        springBootVersion = '2.7.5'
    }
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
    }
}


plugins {
  id "org.sonarqube" version "3.0"
  id "org.owasp.dependencycheck" version "7.2.1"
  id 'jacoco'
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

repositories {
    mavenLocal()
    maven {
        url = 'https://repo.maven.apache.org/maven2'
    }
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-web:2.7.5'
	compileOnly 'org.projectlombok:lombok:1.18.24'
	developmentOnly 'org.springframework.boot:spring-boot-devtools:2.7.5'
	annotationProcessor 'org.projectlombok:lombok:1.18.24'
	testImplementation 'org.springframework.boot:spring-boot-starter-test:2.7.5'
}

group = 'Tariff.API'
version = '0.4.0'

sourceCompatibility = '1.11'
targetCompatibility = '1.11'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

jar {
    manifest {
        attributes(
                'Class-Path': configurations.runtimeClasspath.files.collect { it.getName() }.join(' '),
                'Main-Class': 'Tarriff.Api.TarriffApiApplication'
        )
    }
    // from {
    //     configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) }
    // }

}

// tasks.named('test') {
// 	useJUnitPlatform()
// }
